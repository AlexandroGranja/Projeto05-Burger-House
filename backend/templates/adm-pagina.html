<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel Admin - Burger House</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/static/adm-style.css">
</head>

<body>
    <!-- Toast Container -->
    <div class="toast-container" id="toast-container"></div>

    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-hamburger me-2"></i>Burger House</h3>
                <p>Painel Administrativo</p>
            </div>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link active" href="#" data-section="orders">
                        <i class="fas fa-list"></i>
                        Pedidos
                        <span class="notification-badge" id="pending-count">0</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-section="analytics">
                        <i class="fas fa-chart-bar"></i>
                        Relatórios
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" data-section="settings">
                        <i class="fas fa-cog"></i>
                        Configurações
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="#" onclick="logout()">
                        <i class="fas fa-sign-out-alt"></i>
                        Sair
                    </a>
                </li>
            </ul>
        </div>

        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="d-flex justify-content-between align-items-center">
                    <div>
                        <h4><i class="fas fa-tachometer-alt me-2 text-primary"></i>Gerenciamento de Pedidos</h4>
                    </div>
                    <div class="d-flex align-items-center gap-3">
                        <button class="btn btn-outline-primary d-md-none" id="toggle-sidebar">
                            <i class="fas fa-bars"></i>
                        </button>
                        <div class="text-end d-none d-md-block">
                            <small class="text-muted d-block">Última atualização</small>
                            <small class="fw-bold" id="last-update">--:--</small>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Seção de Pedidos (Padrão) -->
            <div class="section-content active" id="orders-section">
                <!-- Stats Cards -->
                <div class="stats-container">
                    <div class="stat-card pending">
                        <div class="stat-icon"><i class="fas fa-clock"></i></div>
                        <h3 id="stat-pending">0</h3>
                        <p>Pedidos Pendentes</p>
                    </div>
                    <div class="stat-card accepted">
                        <div class="stat-icon"><i class="fas fa-check-circle"></i></div>
                        <h3 id="stat-accepted">0</h3>
                        <p>Pedidos Aceitos</p>
                    </div>
                    <div class="stat-card delivery">
                        <div class="stat-icon"><i class="fas fa-truck"></i></div>
                        <h3 id="stat-delivery">0</h3>
                        <p>Em Entrega</p>
                    </div>
                    <div class="stat-card total">
                        <div class="stat-icon"><i class="fas fa-dollar-sign"></i></div>
                        <h3 id="stat-total">R$ 0</h3>
                        <p>Total do Dia</p>
                    </div>
                </div>

                <!-- Search and Filter Bar -->
                <div class="search-filter-bar">
                    <div class="row align-items-center">
                        <div class="col-md-6">
                            <div class="input-group">
                                <span class="input-group-text bg-white border-end-0"><i class="fas fa-search text-muted"></i></span>
                                <input type="text" class="form-control search-input border-start-0" placeholder="Buscar por ID, nome ou telefone..." id="search-order">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="d-flex gap-2 justify-content-md-end">
                                <div class="dropdown">
                                    <button class="btn btn-filter dropdown-toggle" type="button" id="filterDropdown" data-bs-toggle="dropdown">
                                        <i class="fas fa-filter me-1"></i> Filtrar
                                    </button>
                                    <ul class="dropdown-menu">
                                        <li><a class="dropdown-item filter-option active" href="#" data-filter="all"><i class="fas fa-list me-2"></i>Todos</a></li>
                                        <li><a class="dropdown-item filter-option" href="#" data-filter="pending"><i class="fas fa-clock me-2 text-warning"></i>Pendentes</a></li>
                                        <li><a class="dropdown-item filter-option" href="#" data-filter="accepted"><i class="fas fa-check-circle me-2 text-primary"></i>Aceitos</a></li>
                                        <li><a class="dropdown-item filter-option" href="#" data-filter="delivery"><i class="fas fa-truck me-2 text-success"></i>Em entrega</a></li>
                                    </ul>
                                </div>
                                <button class="btn btn-refresh" id="refresh-orders"><i class="fas fa-sync-alt"></i></button>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Orders Grid -->
                <div class="orders-grid" id="orders-container"></div>

                <!-- No Orders State -->
                <div class="no-orders" id="no-orders" style="display: none;">
                    <i class="fas fa-clipboard-list"></i>
                    <p>Nenhum pedido encontrado</p>
                    <small class="text-muted">Os pedidos aparecerão aqui quando chegarem</small>
                </div>
            </div>

            <!-- Seção de Relatórios -->
            <div class="section-content" id="analytics-section">
                <h5 class="mb-4"><i class="fas fa-chart-bar me-2 text-primary"></i>Relatórios e Análises</h5>
                <div class="report-filters">
                    <div>
                        <label class="form-label">Data Inicial</label>
                        <input type="date" class="form-control" id="report-start-date">
                    </div>
                    <div>
                        <label class="form-label">Data Final</label>
                        <input type="date" class="form-control" id="report-end-date">
                    </div>
                    <div>
                        <label class="form-label">Tipo de Relatório</label>
                        <select class="form-select" id="report-type">
                            <option value="sales">Vendas</option>
                            <option value="products">Produtos Mais Vendidos</option>
                            <option value="hours">Horários de Pico</option>
                        </select>
                    </div>
                    <div class="d-flex align-items-end">
                        <button class="btn btn-primary" id="generate-report"><i class="fas fa-sync-alt me-2"></i>Gerar Relatório</button>
                    </div>
                </div>
                <div class="report-card">
                    <h6 class="mb-3">Resumo do Período</h6>
                    <div class="row">
                        <div class="col-md-3 col-6 mb-3"><div class="text-center"><h3 class="text-primary" id="report-total-orders">0</h3><small class="text-muted">Total de Pedidos</small></div></div>
                        <div class="col-md-3 col-6 mb-3"><div class="text-center"><h3 class="text-success" id="report-total-revenue">R$ 0</h3><small class="text-muted">Faturamento Total</small></div></div>
                        <div class="col-md-3 col-6 mb-3"><div class="text-center"><h3 class="text-info" id="report-avg-order">R$ 0</h3><small class="text-muted">Ticket Médio</small></div></div>
                        <div class="col-md-3 col-6 mb-3"><div class="text-center"><h3 class="text-warning" id="report-total-items">0</h3><small class="text-muted">Itens Vendidos</small></div></div>
                    </div>
                </div>
                <div class="chart-container"><h6 class="mb-3">Evolução de Vendas</h6><canvas id="sales-chart" height="250"></canvas></div>
                <div class="row">
                    <div class="col-md-6"><div class="chart-container"><h6 class="mb-3">Top Produtos</h6><canvas id="products-chart" height="250"></canvas></div></div>
                    <div class="col-md-6"><div class="chart-container"><h6 class="mb-3">Horários de Pico</h6><canvas id="hours-chart" height="250"></canvas></div></div>
                </div>
            </div>

            <!-- Seção de Configurações -->
            <div class="section-content" id="settings-section">
                <h5 class="mb-4"><i class="fas fa-cog me-2 text-primary"></i>Configurações do Sistema</h5>
                <div class="settings-card">
                    <h6 class="mb-3">Notificações</h6>
                    <div class="settings-item"><div><div class="fw-medium">Notificar novos pedidos</div><small class="text-muted">Receber alertas sonoros para novos pedidos</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="notify-new-orders" checked></div></div>
                    <div class="settings-item"><div><div class="fw-medium">Notificações por email</div><small class="text-muted">Receber resumo diário por email</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="email-notifications"></div></div>
                    <div class="settings-item"><div><div class="fw-medium">Alertas de estoque baixo</div><small class="text-muted">Receber alertas quando produtos estiverem com estoque baixo</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="low-stock-alerts" checked></div></div>
                </div>
                <div class="settings-card">
                    <h6 class="mb-3">Integrações</h6>
                    <div class="settings-item"><div><div class="fw-medium">WhatsApp Business</div><small class="text-muted">Integração com WhatsApp para notificações</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="whatsapp-integration" checked></div></div>
                    <div class="settings-item"><div><div class="fw-medium">n8n Workflows</div><small class="text-muted">Conexão com automações do n8n</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="n8n-integration" checked></div></div>
                </div>
                <div class="settings-card">
                    <h6 class="mb-3">Preferências de Exibição</h6>
                    <div class="settings-item"><div><div class="fw-medium">Tema escuro</div><small class="text-muted">Alternar entre tema claro e escuro</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="dark-theme"></div></div>
                    <div class="settings-item"><div><div class="fw-medium">Atualização automática</div><small class="text-muted">Atualizar pedidos automaticamente a cada 30 segundos</small></div><div class="form-check form-switch"><input class="form-check-input" type="checkbox" id="auto-refresh" checked></div></div>
                </div>
                <div class="d-flex justify-content-end gap-2 mt-4"><button class="btn btn-secondary">Cancelar</button><button class="btn btn-primary" id="save-settings">Salvar Configurações</button></div>
            </div>
        </div>
    </div>

    <!-- Order Details Modal -->
    <div class="order-details" id="order-details">
        <div class="order-details-content">
            <div class="order-details-header">
                <h5 class="mb-0"><i class="fas fa-receipt me-2 text-primary"></i>Detalhes do Pedido: <span id="detail-order-id"></span></h5>
                <button type="button" class="btn-close" id="close-details"></button>
            </div>
            <div class="order-details-body">
                <div class="row">
                    <div class="col-md-6">
                        <div class="detail-section">
                            <h6><i class="fas fa-user me-2"></i>Informações do Cliente</h6>
                            <div class="detail-item"><span class="detail-label">Nome:</span><span class="detail-value" id="detail-customer-name"></span></div>
                            <div class="detail-item"><span class="detail-label">Telefone:</span><span class="detail-value" id="detail-customer-phone"></span></div>
                            <div class="detail-item"><span class="detail-label">Endereço:</span><span class="detail-value" id="detail-customer-address"></span></div>
                            <div class="detail-item"><span class="detail-label">Bairro:</span><span class="detail-value" id="detail-customer-neighborhood"></span></div>
                            <div class="detail-item"><span class="detail-label">Complemento:</span><span class="detail-value" id="detail-customer-complement"></span></div>
                            <div class="detail-item"><span class="detail-label">Pagamento:</span><span class="detail-value" id="detail-payment-method"></span></div>
                        </div>
                    </div>
                    <div class="col-md-6">
                        <div class="detail-section">
                            <h6><i class="fas fa-shopping-cart me-2"></i>Resumo do Pedido</h6>
                            <div class="detail-item"><span class="detail-label">Status:</span><span class="detail-value"><span class="status-badge" id="detail-status"></span></span></div>
                            <div class="detail-item"><span class="detail-label">Data/Hora:</span><span class="detail-value" id="detail-date"></span></div>
                            <div class="detail-item"><span class="detail-label">Total:</span><span class="detail-value fw-bold text-primary" id="detail-total"></span></div>
                        </div>
                    </div>
                </div>
                <div class="detail-section">
                    <h6><i class="fas fa-list me-2"></i>Itens do Pedido</h6>
                    <div class="items-list" id="detail-items"></div>
                </div>
            </div>
            <div class="action-buttons" id="detail-actions"></div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/static/adm-script.js"></script>
</body>

</html>


